<html>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="./css/listtable.min.css">
<style>

</style>
  </head>
  <body>
    <div class="content">
      <input type=button value="ソートテスト" onclick="listTable.sortTable(sortdata);listTable2.sortTable(sortdata2);"/>
      <div class="table-area">
        <div id="test-list-table">
          <ul>
            <li>
              <script>
                console.time('create Table');
                var ROW_LEN = 50; // 行数
                var COL_LEN = 5;   // 列数

                for (var i = 1; i <= COL_LEN; i++) {
                  document.writeln('<span>ヘッダー' + i + '</span>');
                }
              </script>
            </li>

          </ul>
          <ul>
            <script>
              for (var i = 1; i <= ROW_LEN; i++) {
                document.write('<li>');
                for (var j = 1; j <= COL_LEN; j++) {
                  document.write('<span>データ' + i + '-' + j + '</span>');
                }
              }
              console.timeEnd('create Table');
            </script>
          </ul>
        </div>
      </div>
      <div class="table-area">
        <div id="test-list-table2">
        </div>
      </div>
    </div>
    <script type="text/javascript" src="./lib/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="./listtable.min.js"></script>
    

<script>
// listtable.table.set($('#test-list-table'));
console.time('constract ListTable');
var listTable = new listtable.class.ListTable('test-list-table');
console.timeEnd('constract ListTable');
//サンプルソート
console.time('get sort data');
var sortdata = listTable.sortData([{keyname: 'col1', order: listtable.const.ORDER_DESC}]);
console.timeEnd('get sort data');

console.time('sort table');
// listTable.sortTable(sortdata);
console.timeEnd('sort table');

var settings = {};
settings.colSettings = [];
var datas = [];
for (var i = 0; i < 10; i++) {
  settings.colSettings.push({
    id: 'column' + (i+1),
    name: '列' + (i+1),
    type: listtable.const.DEF_STATE.COL_TYPE.TEXT
  });
}

for (var i = 0; i < 2000; i++) {
  var data = {};
  for (var j = 0; j < 9; j++) {
    data['column' + (j+1)] = 'データ' + (i+1) + '_' + (j+1);
  }
  data['column10'] = Math.floor( Math.random() * (99999 + 1 - 1) ) + 1;
  datas.push(data);
}
console.time('recreate listtable');
var listTable2 = new listtable.class.ListTable('test-list-table2', settings, datas);
console.timeEnd('recreate listtable');

console.time('get sort data2');
var sortdata2 = listTable2.sortData([{keyname: 'column10', order: listtable.const.ORDER_DESC}]);
console.timeEnd('get sort data2');

</script>
  </body>
</html>
